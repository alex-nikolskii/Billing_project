# Billing

### Системные требования: 

Программа кроссплатформенная. Необходим интерпретатор Python версии не ниже 3.6



#### Описание:

Billing — программа для высчитывания счетов АТС.



#### Параметры запуска программы:



- --help [-h] — Справка по использованию программы.

- --rates-file [-r] — Передается информация о тарифах. Обязательный аргумент.

- --log-file [-l] — Передается лог файл для работы. Обязательный аргумент.

- --map-num-rate [-mnr] — Передается соответствие номера и (id тарифа, дата подключения тарифа). Обязательный аргумент.



  ##### Следующие аргументы опциональны (необходим только режим фильтрации лога для подсчета):

  - `--log-enc [-le]` — Передает кодировку, с которой надо открыть лог на чтение.
  - `--rate-enc [-re]` — Передает кодировку, с которой надо открыть файл тарифов на чтение.
  - `--mnr-enc [-me]` — Передает кодировку, с которой надо открыть файл соответствия номера и тарифа на чтение.
  - `--service [-s]` — Передает услугу, по которой нужно фильтровать лог.
  - `--volume [-v]` — Передает объем услуги, по которому нужно фильтровать лог.
  - `--date [-d]` — Передает дату, за которую нужны данные лога. Формат ввода даты следующий: YYYY-MM-DD, то есть, например **2018-04-15**
  - `--sender-loc [-sl]` — Передает город звонившего, по которому нужно отфильтровать записи лога.
  - `--recp-loc [-rl]` — Передает город отвечающего на звонок человека для фильтрации лога.
  - `--numbers-to-group-sender [-ns]` — Передает номера, с которых был выполнен звонок, для которых нужно посчитать счет.
  - `--numbers-to-group-recipient [-nr]` — Передает номера, которым звонили.
  - `--detailed-bill [-db]` — Показывает счет более детализированным: услуги,  вошедшие в итоговый счет.
  - `--all-users [-a]` — Показывает счет для всех абонентов.



#### Пример запуска программы:

Программа запускается в командной строке с обязательными параметрами --rates-file, --log-file, --map-num-rate и любым фильтром для лога:

`python main.py -r rates.txt -l log.txt -mnr numbers-rates.txt -a` — данная команда выведет счет для всех записей лога.

Все остальные команды применяются аналогично. Вот еще примеры:
`python main.py -r rates.txt -l log.txt -mnr numbers-rates.txt -ns 89090995429 89289281234` — данная команда выведет счет для всех записей, где номер звонившего является одним из номеров, переданных на вход программе.

`python main.py -r rates.txt -l log.txt -mnr numbers-rates.txt -d 2018-04-15` — выведет все записи за 15 апреля 2018 года.



#### Создатель программы:

Никольский Александр Анатольевич

#### Контакты:

Voice: 89090995429

Telegram: @anikolskii

E-mail: alex.nikolskii@mail.ru

